{% extends "admin/base_site.html" %}
{% load static %}

{% block title %}Change Patient | Hospital Management Admin{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">Home</a>
    &rsaquo; <a href="{% url 'admin:hospital_app_patient_changelist' %}">Patients</a>
    &rsaquo; Change Patient
</div>
{% endblock %}

{% block content %}
<div class="module">
    <h2>Change Patient</h2>

    <form method="post">
        {% csrf_token %}

        <fieldset class="module aligned">
            <h3>Personal Information</h3>
            <div class="form-row">
                <div class="fieldBox">
                    <label for="first_name">First Name:</label>
                    <input type="text" id="first_name" name="first_name" value="{{ patient.first_name }}" required>
                </div>
                <div class="fieldBox">
                    <label for="last_name">Last Name:</label>
                    <input type="text" id="last_name" name="last_name" value="{{ patient.last_name }}" required>
                </div>
            </div>

            <div class="form-row">
                <div class="fieldBox">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" value="{{ patient.email }}" required>
                </div>
                <div class="fieldBox">
                    <label for="phone">Phone:</label>
                    <input type="text" id="phone" name="phone" value="{{ patient.phone }}" required>
                </div>
            </div>

            <div class="form-row">
                <div class="fieldBox">
                    <label for="date_of_birth">Date of Birth:</label>
                    <input type="date" id="date_of_birth" name="date_of_birth" value="{{ patient.date_of_birth|date:'Y-m-d' }}">
                </div>
                <div class="fieldBox">
                    <label for="gender">Gender:</label>
                    <select id="gender" name="gender">
                        <option value="Male" {% if patient.gender == 'Male' %}selected{% endif %}>Male</option>
                        <option value="Female" {% if patient.gender == 'Female' %}selected{% endif %}>Female</option>
                        <option value="Other" {% if patient.gender == 'Other' %}selected{% endif %}>Other</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="fieldBox">
                    <label for="blood_group">Blood Group:</label>
                    <select id="blood_group" name="blood_group">
                        <option value="">Select Blood Group</option>
                        <option value="A+" {% if patient.blood_group == 'A+' %}selected{% endif %}>A+</option>
                        <option value="A-" {% if patient.blood_group == 'A-' %}selected{% endif %}>A-</option>
                        <option value="B+" {% if patient.blood_group == 'B+' %}selected{% endif %}>B+</option>
                        <option value="B-" {% if patient.blood_group == 'B-' %}selected{% endif %}>B-</option>
                        <option value="AB+" {% if patient.blood_group == 'AB+' %}selected{% endif %}>AB+</option>
                        <option value="AB-" {% if patient.blood_group == 'AB-' %}selected{% endif %}>AB-</option>
                        <option value="O+" {% if patient.blood_group == 'O+' %}selected{% endif %}>O+</option>
                        <option value="O-" {% if patient.blood_group == 'O-' %}selected{% endif %}>O-</option>
                    </select>
                </div>
                <div class="fieldBox">
                    <label for="emergency_contact">Emergency Contact:</label>
                    <input type="text" id="emergency_contact" name="emergency_contact" value="{{ patient.emergency_contact }}">
                </div>
            </div>

            <div class="form-row">
                <div class="fieldBox">
                    <label for="address">Address:</label>
                    <textarea id="address" name="address" rows="3">{{ patient.address }}</textarea>
                </div>
            </div>
        </fieldset>

        <div class="submit-row">
            <input type="submit" value="Save" class="default">
            <a href="{% url 'admin:hospital_app_patient_changelist' %}" class="cancel">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
